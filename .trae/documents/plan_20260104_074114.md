## 成绩管理模块动态字段显示功能实现计划

### 需求分析
根据《国家体质健康标准》，不同学段的体测必测项目不同：
- **小学**：身高、体重、肺活量、50米跑、坐位体前屈、一分钟跳绳、一分钟仰卧起坐、50米×8往返跑
- **初高中**：身高、体重、肺活量、50米跑、坐位体前屈、立定跳远、引体向上(男)/一分钟仰卧起坐(女)、1000米跑(男)/800米跑(女)

### 实现方案

#### 1. 创建年级到学段的映射工具函数
在 `utils/` 目录下创建 `gradeStageMapping.js`，定义：
- 年级分组规则（小学1-6年级，初中1-3年级，高中1-3年级）
- `getStageByGrade(grade)` 函数，根据年级返回所属学段
- `getTestItemsForGrade(grade, gender)` 函数，返回该年级适用的测试项目列表

#### 2. 小学必测项目配置
```javascript
const primarySchoolItems = [
  { code: 'height', name: '身高(cm)', required: true },
  { code: 'weight', name: '体重(kg)', required: true },
  { code: 'vitalCapacity', name: '肺活量(ml)', required: true },
  { code: 'run50m', name: '50米跑(s)', required: true },
  { code: 'sitAndReach', name: '坐位体前屈(cm)', required: true },
  { code: 'ropeSkipping', name: '一分钟跳绳(个)', grades: ['一年级', '二年级', '三年级', '四年级', '五年级', '六年级'] },
  { code: 'sitUps', name: '一分钟仰卧起坐(个)', grades: ['三年级', '四年级', '五年级', '六年级'] },
  { code: 'run50m8x', name: '50米×8往返跑(s)', grades: ['五年级', '六年级'] }
]
```

#### 3. 初高中必测项目配置
```javascript
const middleHighSchoolItems = [
  { code: 'height', name: '身高(cm)', required: true },
  { code: 'weight', name: '体重(kg)', required: true },
  { code: 'vitalCapacity', name: '肺活量(ml)', required: true },
  { code: 'run50m', name: '50米跑(s)', required: true },
  { code: 'sitAndReach', name: '坐位体前屈(cm)', required: true },
  { code: 'standingLongJump', name: '立定跳远(cm)', required: true },
  { code: 'pullUps', name: '引体向上(个)', gender: 'male' },
  { code: 'sitUps', name: '一分钟仰卧起坐(个)', gender: 'female' },
  { code: 'run1000m', name: '1000米跑(s)', gender: 'male' },
  { code: 'run800m', name: '800米跑(s)', gender: 'female' }
]
```

#### 4. 修改 ScoreManagement 组件
- 添加 `getVisibleTestItems(grade, gender)` 函数，动态获取该学生适用的测试项目
- 动态生成表格列配置，只显示适用的测试项目列
- 动态生成编辑弹窗表单字段，根据年级和性别显示相应输入框
- 根据学校 `schoolLevel` 设置过滤整体学段的项目

### 实施步骤
1. 创建 `utils/gradeStageMapping.js` - 年级到学段映射工具
2. 修改 `ScoreManagement.jsx` 实现动态字段显示
3. 运行构建和lint验证代码正确性